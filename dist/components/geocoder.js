var xr=Object.create;var U=Object.defineProperty;var Er=Object.getOwnPropertyDescriptor;var wr=Object.getOwnPropertyNames;var Lr=Object.getPrototypeOf,Or=Object.prototype.hasOwnProperty;var ve=(e,t)=>()=>(e&&(t=e(e=0)),t);var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Sr=(e,t)=>{for(var r in t)U(e,r,{get:t[r],enumerable:!0})},ye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of wr(t))!Or.call(e,i)&&i!==r&&U(e,i,{get:()=>t[i],enumerable:!(n=Er(t,i))||n.enumerable});return e};var Rr=(e,t,r)=>(r=e!=null?xr(Lr(e)):{},ye(t||!e||!e.__esModule?U(r,"default",{value:e,enumerable:!0}):r,e)),Ar=e=>ye(U({},"__esModule",{value:!0}),e);var T=p((gi,be)=>{be.exports=qr;var Cr=Object.prototype.hasOwnProperty;function qr(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)Cr.call(r,n)&&(e[n]=r[n])}return e}});var Ee=p((_e,xe)=>{(function(){var e=this,t={};typeof _e<"u"?xe.exports=t:e.fuzzy=t,t.simpleFilter=function(r,n){return n.filter(function(i){return t.test(r,i)})},t.test=function(r,n){return t.match(r,n)!==null},t.match=function(r,n,i){i=i||{};var s=0,o=[],u=n.length,a=0,c=0,d=i.pre||"",h=i.post||"",l=i.caseSensitive&&n||n.toLowerCase(),g;r=i.caseSensitive&&r||r.toLowerCase();for(var b=0;b<u;b++)g=n[b],l[b]===r[s]?(g=d+g+h,s+=1,c+=1+c):c=0,a+=c,o[o.length]=g;return s===r.length?(a=l===r?1/0:a,{rendered:o.join(""),score:a}):null},t.filter=function(r,n,i){return!n||n.length===0?[]:typeof r!="string"?n:(i=i||{},n.reduce(function(s,o,u,a){var c=o;i.extract&&(c=i.extract(o));var d=t.match(r,c,i);return d!=null&&(s[s.length]={string:d.rendered,score:d.score,index:u,original:o}),s},[]).sort(function(s,o){var u=o.score-s.score;return u||s.index-o.index}))}})()});var Le=p((mi,we)=>{"use strict";var O=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};O.prototype.show=function(){this.element.style.display="block"};O.prototype.hide=function(){this.element.style.display="none"};O.prototype.add=function(e){this.items.push(e)};O.prototype.clear=function(){this.items=[],this.active=0};O.prototype.isEmpty=function(){return!this.items.length};O.prototype.isVisible=function(){return this.element.style.display==="block"};O.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()};O.prototype.drawItem=function(e,t){var r=document.createElement("li"),n=document.createElement("a");t&&(r.className+=" active"),n.innerHTML=e.string,r.appendChild(n),this.element.appendChild(r),r.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),r.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))};O.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()};O.prototype.move=function(e){this.active=e,this.draw()};O.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};O.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};O.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()};we.exports=O});var Se=p((vi,Oe)=>{"use strict";var kr=T(),Ir=Ee(),Tr=Le(),_=function(e,t,r){return r=r||{},this.options=kr({minLength:2,limit:5,filter:!0,hideOnBlur:!0},r),this.el=e,this.data=t||[],this.list=new Tr(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(n){this.handleKeyUp(n.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(n){this.handleKeyDown(n)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(n){this.handlePaste(n)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};_.prototype.handleKeyUp=function(e){e===40||e===38||e===27||e===13||e===9||this.handleInputChange(this.el.value)};_.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};_.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};_.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout(function(){t.handleInputChange(e.target.value)},100)}};_.prototype.handleInputChange=function(e){if(this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates(function(t){for(var r=0;r<t.length&&(this.list.add(t[r]),r!==this.options.limit-1);r++);this.list.draw()}.bind(this))};_.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};_.prototype.update=function(e){this.data=e,this.handleKeyUp()};_.prototype.clear=function(){this.data=[],this.list.clear()};_.prototype.normalize=function(e){return e=e.toLowerCase(),e};_.prototype.match=function(e,t){return e.indexOf(t)>-1};_.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")};_.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:function(n){return this.getItemValue(n)}.bind(this)},r;this.options.filter?(r=Ir.filter(this.query,this.data,t),r=r.map(function(n){return{original:n.original,string:this.render(n.original,n.string)}}.bind(this))):r=this.data.map(function(n){var i=this.render(n);return{original:n,string:i}}.bind(this)),e(r)};_.prototype.getItemValue=function(e){return e};_.prototype.render=function(e,t){if(t)return t;for(var r=e.original?this.getItemValue(e.original):this.getItemValue(e),n=this.normalize(r),i=n.lastIndexOf(this.query);i>-1;){var s=i+this.query.length;r=r.slice(0,i)+"<strong>"+r.slice(i,s)+"</strong>"+r.slice(s),i=n.slice(0,i).lastIndexOf(this.query)}return r};_.prototype.renderError=function(e){this.list.drawError(e)};Oe.exports=_});var Ce=p((yi,Ae)=>{"use strict";var Re=Se();Ae.exports=Re;typeof window<"u"&&(window.Suggestions=Re)});var Te=p((bi,Ie)=>{var Pr="Expected a function",qe=NaN,Mr="[object Symbol]",Nr=/^\s+|\s+$/g,Br=/^[-+]0x[0-9a-f]+$/i,jr=/^0b[01]+$/i,Gr=/^0o[0-7]+$/i,zr=parseInt,Fr=typeof global=="object"&&global&&global.Object===Object&&global,Dr=typeof self=="object"&&self&&self.Object===Object&&self,Vr=Fr||Dr||Function("return this")(),Ur=Object.prototype,Kr=Ur.toString,Hr=Math.max,Qr=Math.min,Y=function(){return Vr.Date.now()};function Wr(e,t,r){var n,i,s,o,u,a,c=0,d=!1,h=!1,l=!0;if(typeof e!="function")throw new TypeError(Pr);t=ke(t)||0,ee(r)&&(d=!!r.leading,h="maxWait"in r,s=h?Hr(ke(r.maxWait)||0,t):s,l="trailing"in r?!!r.trailing:l);function g(y){var C=n,z=i;return n=i=void 0,c=y,o=e.apply(z,C),o}function b(y){return c=y,u=setTimeout(S,t),d?g(y):o}function E(y){var C=y-a,z=y-c,me=t-C;return h?Qr(me,s-z):me}function R(y){var C=y-a,z=y-c;return a===void 0||C>=t||C<0||h&&z>=s}function S(){var y=Y();if(R(y))return A(y);u=setTimeout(S,E(y))}function A(y){return u=void 0,l&&n?g(y):(n=i=void 0,o)}function ge(){u!==void 0&&clearTimeout(u),c=0,n=a=i=u=void 0}function L(){return u===void 0?o:A(Y())}function G(){var y=Y(),C=R(y);if(n=arguments,i=this,a=y,C){if(u===void 0)return b(a);if(h)return u=setTimeout(S,t),g(a)}return u===void 0&&(u=setTimeout(S,t)),o}return G.cancel=ge,G.flush=L,G}function ee(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Zr(e){return!!e&&typeof e=="object"}function $r(e){return typeof e=="symbol"||Zr(e)&&Kr.call(e)==Mr}function ke(e){if(typeof e=="number")return e;if($r(e))return qe;if(ee(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ee(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Nr,"");var r=jr.test(e);return r||Gr.test(e)?zr(e.slice(2),r?2:8):Br.test(e)?qe:+e}Ie.exports=Wr});var Ue=p((_i,te)=>{"use strict";var N=typeof Reflect=="object"?Reflect:null,Pe=N&&typeof N.apply=="function"?N.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},K;N&&typeof N.ownKeys=="function"?K=N.ownKeys:Object.getOwnPropertySymbols?K=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:K=function(t){return Object.getOwnPropertyNames(t)};function Xr(e){console&&console.warn&&console.warn(e)}var Ne=Number.isNaN||function(t){return t!==t};function m(){m.init.call(this)}te.exports=m;te.exports.once=tn;m.EventEmitter=m;m.prototype._events=void 0;m.prototype._eventsCount=0;m.prototype._maxListeners=void 0;var Me=10;function H(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return Me},set:function(e){if(typeof e!="number"||e<0||Ne(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Me=e}});m.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};m.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Ne(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Be(e){return e._maxListeners===void 0?m.defaultMaxListeners:e._maxListeners}m.prototype.getMaxListeners=function(){return Be(this)};m.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var a=s[t];if(a===void 0)return!1;if(typeof a=="function")Pe(a,this,r);else for(var c=a.length,d=De(a,c),n=0;n<c;++n)Pe(d[n],this,r);return!0};function je(e,t,r,n){var i,s,o;if(H(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=Be(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,Xr(u)}return e}m.prototype.addListener=function(t,r){return je(this,t,r,!1)};m.prototype.on=m.prototype.addListener;m.prototype.prependListener=function(t,r){return je(this,t,r,!0)};function Jr(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ge(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Jr.bind(n);return i.listener=r,n.wrapFn=i,i}m.prototype.once=function(t,r){return H(r),this.on(t,Ge(this,t,r)),this};m.prototype.prependOnceListener=function(t,r){return H(r),this.prependListener(t,Ge(this,t,r)),this};m.prototype.removeListener=function(t,r){var n,i,s,o,u;if(H(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){u=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Yr(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,u||r)}return this};m.prototype.off=m.prototype.removeListener;m.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function ze(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?en(i):De(i,i.length)}m.prototype.listeners=function(t){return ze(this,t,!0)};m.prototype.rawListeners=function(t){return ze(this,t,!1)};m.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Fe.call(e,t)};m.prototype.listenerCount=Fe;function Fe(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}m.prototype.eventNames=function(){return this._eventsCount>0?K(this._events):[]};function De(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Yr(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function en(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function tn(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}Ve(e,t,s,{once:!0}),t!=="error"&&rn(e,i,{once:!0})})}function rn(e,t,r){typeof e.on=="function"&&Ve(e,"error",t,r)}function Ve(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var He=p((xi,Ke)=>{Ke.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}});var We=p((Ei,Qe)=>{"use strict";function nn(e){var t=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function on(e){var t=e.match(/<?([^>]*)>(.*)/);if(!t)return null;var r=t[1],n=t[2].split(";"),i=null,s=n.reduce(function(o,u){var a=nn(u);return a?a.key==="rel"?(i||(i=a.value),o):(o[a.key]=a.value,o):o},{});return i?{url:r,rel:i,params:s}:null}function sn(e){return e?e.split(/,\s*</).reduce(function(t,r){var n=on(r);if(!n)return t;var i=n.rel.split(/\s+/);return i.forEach(function(s){t[s]||(t[s]={url:n.url,params:n.params})}),t},{}):{}}Qe.exports=sn});var $e=p((wi,Ze)=>{"use strict";var an=We();function re(e,t){this.request=e,this.headers=t.headers,this.rawBody=t.body,this.statusCode=t.statusCode;try{this.body=JSON.parse(t.body||"{}")}catch{this.body=t.body}this.links=an(this.headers.link)}re.prototype.hasNextPage=function(){return!!this.links.next};re.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};Ze.exports=re});var F=p((Li,Xe)=>{"use strict";Xe.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}});var et=p((Oi,Ye)=>{"use strict";var Je=F();function un(e){var t=e.type||Je.ERROR_HTTP,r;if(e.body)try{r=JSON.parse(e.body)}catch{r=e.body}else r=null;var n=e.message||null;n||(typeof r=="string"?n=r:r&&typeof r.message=="string"?n=r.message:t===Je.ERROR_REQUEST_ABORTED&&(n="Request aborted")),this.message=n,this.type=t,this.statusCode=e.statusCode||null,this.request=e.request,this.body=r}Ye.exports=un});var rt=p((Si,tt)=>{"use strict";function ln(e){var t=e.indexOf(":"),r=e.substring(0,t).trim().toLowerCase(),n=e.substring(t+1).trim();return{name:r,value:n}}function cn(e){var t={};return e&&e.trim().split(/[\r|\n]+/).forEach(function(r){var n=ln(r);t[n.name]=n.value}),t}tt.exports=cn});var ut=p((Ri,at)=>{"use strict";var hn=$e(),nt=et(),ne=F(),dn=rt(),Q={};function fn(e){var t=Q[e.id];t&&(t.abort(),delete Q[e.id])}function pn(e,t){return new hn(e,{body:t.response,headers:dn(t.getAllResponseHeaders()),statusCode:t.status})}function it(e){var t=e.total,r=e.loaded,n=100*r/t;return{total:t,transferred:r,percent:n}}function ot(e,t){return new Promise(function(r,n){t.onprogress=function(o){e.emitter.emit(ne.EVENT_PROGRESS_DOWNLOAD,it(o))};var i=e.file;i&&(t.upload.onprogress=function(o){e.emitter.emit(ne.EVENT_PROGRESS_UPLOAD,it(o))}),t.onerror=function(o){n(o)},t.onabort=function(){var o=new nt({request:e,type:ne.ERROR_REQUEST_ABORTED});n(o)},t.onload=function(){if(delete Q[e.id],t.status<200||t.status>=400){var o=new nt({request:e,body:t.response,statusCode:t.status});n(o);return}r(t)};var s=e.body;typeof s=="string"?t.send(s):s?t.send(JSON.stringify(s)):i?t.send(i):t.send(),Q[e.id]=t}).then(function(r){return pn(e,r)})}function st(e,t){var r=e.url(t),n=new window.XMLHttpRequest;return n.open(e.method,r),Object.keys(e.headers).forEach(function(i){n.setRequestHeader(i,e.headers[i])}),n}function gn(e){return Promise.resolve().then(function(){var t=st(e,e.client.accessToken);return ot(e,t)})}at.exports={browserAbort:fn,sendRequestXhr:ot,browserSend:gn,createRequestXhr:st}});var lt=p((W,D)=>{(function(e){var t=typeof W=="object"&&W,r=typeof D=="object"&&D&&D.exports==t&&D,n=typeof global=="object"&&global;(n.global===n||n.window===n)&&(e=n);var i=function(l){this.message=l};i.prototype=new Error,i.prototype.name="InvalidCharacterError";var s=function(l){throw new i(l)},o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,a=function(l){l=String(l).replace(u,"");var g=l.length;g%4==0&&(l=l.replace(/==?$/,""),g=l.length),(g%4==1||/[^+a-zA-Z0-9/]/.test(l))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var b=0,E,R,S="",A=-1;++A<g;)R=o.indexOf(l.charAt(A)),E=b%4?E*64+R:R,b++%4&&(S+=String.fromCharCode(255&E>>(-2*b&6)));return S},c=function(l){l=String(l),/[^\0-\xFF]/.test(l)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var g=l.length%3,b="",E=-1,R,S,A,ge,L,G=l.length-g;++E<G;)R=l.charCodeAt(E)<<16,S=l.charCodeAt(++E)<<8,A=l.charCodeAt(++E),L=R+S+A,b+=o.charAt(L>>18&63)+o.charAt(L>>12&63)+o.charAt(L>>6&63)+o.charAt(L&63);return g==2?(R=l.charCodeAt(E)<<8,S=l.charCodeAt(++E),L=R+S,b+=o.charAt(L>>10)+o.charAt(L>>4&63)+o.charAt(L<<2&63)+"="):g==1&&(L=l.charCodeAt(E),b+=o.charAt(L>>2)+o.charAt(L<<4&63)+"=="),b},d={encode:c,decode:a,version:"0.1.0"};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd)define(function(){return d});else if(t&&!t.nodeType)if(r)r.exports=d;else for(var h in d)d.hasOwnProperty(h)&&(t[h]=d[h]);else e.base64=d})(W)});var oe=p((Ai,ct)=>{"use strict";var mn=lt(),ie={};function vn(e){if(ie[e])return ie[e];var t=e.split("."),r=t[0],n=t[1];if(!n)throw new Error("Invalid token");var i=yn(n),s={usage:r,user:i.u};return P(i,"a")&&(s.authorization=i.a),P(i,"exp")&&(s.expires=i.exp*1e3),P(i,"iat")&&(s.created=i.iat*1e3),P(i,"scopes")&&(s.scopes=i.scopes),P(i,"client")&&(s.client=i.client),P(i,"ll")&&(s.lastLogin=i.ll),P(i,"iu")&&(s.impersonator=i.iu),ie[e]=s,s}function yn(e){try{return JSON.parse(mn.decode(e))}catch{throw new Error("Invalid token")}}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}ct.exports=vn});var dt=p((Ci,se)=>{"use strict";var bn=Object.prototype.hasOwnProperty,w="~";function V(){}Object.create&&(V.prototype=Object.create(null),new V().__proto__||(w=!1));function _n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function ht(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new _n(r,n||e,i),o=w?w+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}function Z(e,t){--e._eventsCount===0?e._events=new V:delete e._events[t]}function x(){this._events=new V,this._eventsCount=0}x.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)bn.call(r,n)&&t.push(w?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};x.prototype.listeners=function(t){var r=w?w+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};x.prototype.listenerCount=function(t){var r=w?w+t:t,n=this._events[r];return n?n.fn?1:n.length:0};x.prototype.emit=function(t,r,n,i,s,o){var u=w?w+t:t;if(!this._events[u])return!1;var a=this._events[u],c=arguments.length,d,h;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),c){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,r),!0;case 3:return a.fn.call(a.context,r,n),!0;case 4:return a.fn.call(a.context,r,n,i),!0;case 5:return a.fn.call(a.context,r,n,i,s),!0;case 6:return a.fn.call(a.context,r,n,i,s,o),!0}for(h=1,d=new Array(c-1);h<c;h++)d[h-1]=arguments[h];a.fn.apply(a.context,d)}else{var l=a.length,g;for(h=0;h<l;h++)switch(a[h].once&&this.removeListener(t,a[h].fn,void 0,!0),c){case 1:a[h].fn.call(a[h].context);break;case 2:a[h].fn.call(a[h].context,r);break;case 3:a[h].fn.call(a[h].context,r,n);break;case 4:a[h].fn.call(a[h].context,r,n,i);break;default:if(!d)for(g=1,d=new Array(c-1);g<c;g++)d[g-1]=arguments[g];a[h].fn.apply(a[h].context,d)}}return!0};x.prototype.on=function(t,r,n){return ht(this,t,r,n,!1)};x.prototype.once=function(t,r,n){return ht(this,t,r,n,!0)};x.prototype.removeListener=function(t,r,n,i){var s=w?w+t:t;if(!this._events[s])return this;if(!r)return Z(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&Z(this,s);else{for(var u=0,a=[],c=o.length;u<c;u++)(o[u].fn!==r||i&&!o[u].once||n&&o[u].context!==n)&&a.push(o[u]);a.length?this._events[s]=a.length===1?a[0]:a:Z(this,s)}return this};x.prototype.removeAllListeners=function(t){var r;return t?(r=w?w+t:t,this._events[r]&&Z(this,r)):(this._events=new V,this._eventsCount=0),this};x.prototype.off=x.prototype.removeListener;x.prototype.addListener=x.prototype.on;x.prefixed=w;x.EventEmitter=x;typeof se<"u"&&(se.exports=x)});var mt=p((qi,gt)=>{"use strict";function xn(e){return e.map(encodeURIComponent).join(",")}function ft(e){return Array.isArray(e)?xn(e):encodeURIComponent(String(e))}function pt(e,t,r){if(r===!1||r===null)return e;var n=/\?/.test(e)?"&":"?",i=encodeURIComponent(t);return r!==void 0&&r!==""&&r!==!0&&(i+="="+ft(r)),""+e+n+i}function En(e,t){if(!t)return e;var r=e;return Object.keys(t).forEach(function(n){var i=t[n];i!==void 0&&(Array.isArray(i)&&(i=i.filter(function(s){return s!=null}).join(",")),r=pt(r,n,i))}),r}function wn(e,t){if(!t||e.slice(0,4)==="http")return e;var r=e[0]==="/"?"":"/";return""+t.replace(/\/$/,"")+r+e}function Ln(e,t){return t?e.replace(/\/:([a-zA-Z0-9]+)/g,function(r,n){var i=t[n];if(i===void 0)throw new Error("Unspecified route parameter "+n);var s=ft(i);return"/"+s}):e}gt.exports={appendQueryObject:En,appendQueryParam:pt,prependOrigin:wn,interpolateRouteParams:Ln}});var bt=p((ki,yt)=>{"use strict";var On=oe(),ae=T(),Sn=dt(),$=mt(),vt=F(),Rn=1;function q(e,t){if(!e)throw new Error("MapiRequest requires a client");if(!t||!t.path||!t.method)throw new Error("MapiRequest requires an options object with path and method properties");var r={};t.body&&(r["content-type"]="application/json");var n=ae(r,t.headers),i=Object.keys(n).reduce(function(s,o){return s[o.toLowerCase()]=n[o],s},{});this.id=Rn++,this._options=t,this.emitter=new Sn,this.client=e,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=t.path,this.method=t.method,this.origin=t.origin||e.origin,this.query=t.query||{},this.params=t.params||{},this.body=t.body||null,this.file=t.file||null,this.encoding=t.encoding||"utf8",this.sendFileAs=t.sendFileAs||null,this.headers=i}q.prototype.url=function(t){var r=$.prependOrigin(this.path,this.origin);r=$.appendQueryObject(r,this.query);var n=this.params,i=t??this.client.accessToken;if(i){r=$.appendQueryParam(r,"access_token",i);var s=On(i).user;n=ae({ownerId:s},n)}return r=$.interpolateRouteParams(r,n),r};q.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(r){return t.response=r,t.emitter.emit(vt.EVENT_RESPONSE,r),r},function(r){throw t.error=r,t.emitter.emit(vt.EVENT_ERROR,r),r})};q.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};q.prototype.eachPage=function(t){var r=this;function n(o){function u(){delete r._nextPageRequest;var a=o.nextPage();a&&(r._nextPageRequest=a,s(a))}t(null,o,u)}function i(o){t(o,null,function(){})}function s(o){o.send().then(n,i)}s(this)};q.prototype.clone=function(){return this._extend()};q.prototype._extend=function(t){var r=ae(this._options,t);return new q(this.client,r)};yt.exports=q});var ue=p((Ii,xt)=>{"use strict";var An=oe(),Cn=bt(),qn=F();function _t(e){if(!e||!e.accessToken)throw new Error("Cannot create a client without an access token");An(e.accessToken),this.accessToken=e.accessToken,this.origin=e.origin||qn.API_ORIGIN}_t.prototype.createRequest=function(t){return new Cn(this,t)};xt.exports=_t});var le=p((Ti,Lt)=>{"use strict";var Et=ut(),wt=ue();function B(e){wt.call(this,e)}B.prototype=Object.create(wt.prototype);B.prototype.constructor=B;B.prototype.sendRequest=Et.browserSend;B.prototype.abortRequest=Et.browserAbort;function kn(e){return new B(e)}Lt.exports=kn});var St=p((Pi,Ot)=>{"use strict";var In=le();Ot.exports=In});var At=p((Mi,Rt)=>{"use strict";var Tn=Object.prototype.toString;Rt.exports=function(e){var t;return Tn.call(e)==="[object Object]"&&(t=Object.getPrototypeOf(e),t===null||t===Object.getPrototypeOf({}))}});var Pt=p((Ni,Tt)=>{"use strict";var Pn=At(),Mn=T(),Ct="value",ce=`
  `,v={};v.assert=function(e,t){return t=t||{},function(r){var n=k(e,r);if(n){var i=he(n,t);throw t.apiName&&(i=t.apiName+": "+i),new Error(i)}}};v.shape=function(t){var r=Gn(t);return function(i){var s=k(v.plainObject,i);if(s)return s;for(var o,u,a=[],c=0;c<r.length;c++)o=r[c].key,u=r[c].value,s=k(u,i[o]),s&&a.push([o].concat(s));return a.length<2?a[0]:function(d){a=a.map(function(g){var b=g[0],E=he(g,d).split(`
`).join(ce);return"- "+b+": "+E});var h=d.path.join("."),l=h===Ct?"":" of "+h;return"The following properties"+l+" have invalid values:"+ce+a.join(ce)}}};v.strictShape=function(t){var r=v.shape(t);return function(i){var s=r(i);if(s)return s;var o=Object.keys(i).reduce(function(u,a){return t[a]===void 0&&u.push(a),u},[]);if(o.length!==0)return function(){return"The following keys are invalid: "+o.join(", ")}}};v.arrayOf=function(t){return qt(t)};v.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return qt(t)};function qt(e){var t=Array.isArray(e),r=function(n){return t?e[n]:e};return function(i){var s=k(v.plainArray,i);if(s)return s;if(t&&i.length!==e.length)return"an array with "+e.length+" items";for(var o=0;o<i.length;o++)if(s=k(r(o),i[o]),s)return[o].concat(s)}}v.required=function(t){function r(n){return n==null?function(i){return kt(i,It(i.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return r.__required=!0,r};v.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(n){var i=t.map(function(s){return k(s,n)}).filter(Boolean);if(i.length===t.length)return i.every(function(s){return s.length===1&&typeof s[0]=="string"})?Nn(i.map(function(s){return s[0]})):i.reduce(function(s,o){return o.length>s.length?o:s})}};v.equal=function(t){return function(n){if(n!==t)return JSON.stringify(t)}};v.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),r=t.map(function(n){return v.equal(n)});return v.oneOfType.apply(this,r)};v.range=function(t){var r=t[0],n=t[1];return function(s){var o=k(v.number,s);if(o||s<r||s>n)return"number between "+r+" & "+n+" (inclusive)"}};v.any=function(){};v.boolean=function(t){if(typeof t!="boolean")return"boolean"};v.number=function(t){if(typeof t!="number")return"number"};v.plainArray=function(t){if(!Array.isArray(t))return"array"};v.plainObject=function(t){if(!Pn(t))return"object"};v.string=function(t){if(typeof t!="string")return"string"};v.func=function(t){if(typeof t!="function")return"function"};function k(e,t){if(!(t==null&&!e.hasOwnProperty("__required"))){var r=e(t);if(r)return Array.isArray(r)?r:[r]}}function he(e,t){var r=e.length,n=e[r-1],i=e.slice(0,r-1);return i.length===0&&(i=[Ct]),t=Mn(t,{path:i}),typeof n=="function"?n(t):kt(t,Bn(n))}function Nn(e){return e.length<2?e[0]:e.length===2?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e.slice(-1)}function Bn(e){return"must be "+jn(e)+"."}function jn(e){return/^an? /.test(e)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e}function kt(e,t){var r=It(e.path),n=e.path.join(".")+" "+t,i=r?"Item at position ":"";return i+n}function It(e){return typeof e[e.length-1]=="number"||typeof e[0]=="number"}function Gn(e){return Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}})}v.validate=k;v.processMessage=he;Tt.exports=v});var Nt=p((Bi,Mt)=>{"use strict";var zn=T(),j=Pt();function Fn(e){if(typeof window<"u")return e instanceof global.Blob||e instanceof global.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof e=="string"||e.pipe!==void 0))return"Filename or Readable stream"}function Dn(e,t){return j.assert(j.strictShape(e),t)}function Vn(e){var t="date";if(typeof e=="boolean")return t;try{var r=new Date(e);if(r.getTime&&isNaN(r.getTime()))return t}catch{return t}}function Un(e){return j.tuple(j.number,j.number)(e)}Mt.exports=zn(j,{file:Fn,date:Vn,coordinates:Un,assertShape:Dn})});var jt=p((ji,Bt)=>{"use strict";function Kn(e,t){var r=function(n,i){return t.indexOf(n)!==-1&&i!==void 0};return typeof t=="function"&&(r=t),Object.keys(e).filter(function(n){return r(n,e[n])}).reduce(function(n,i){return n[i]=e[i],n},{})}Bt.exports=Kn});var zt=p((Gi,Gt)=>{"use strict";function Hn(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=t(n,e[n]),r},{})}Gt.exports=Hn});var Dt=p((zi,Ft)=>{"use strict";var Qn=zt();function Wn(e){return Qn(e,function(t,r){return typeof r=="boolean"?JSON.stringify(r):r})}Ft.exports=Wn});var Ut=p((Fi,Vt)=>{"use strict";var Zn=ue(),$n=le();function Xn(e){return function(t){var r;Zn.prototype.isPrototypeOf(t)?r=t:r=$n(t);var n=Object.create(e);return n.client=r,n}}Vt.exports=Xn});var Zt=p((Di,Wt)=>{"use strict";var Kt=T(),f=Nt(),X=jt(),Ht=Dt(),Jn=Ut(),de={},Qt=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];de.forwardGeocode=function(e){f.assertShape({query:f.required(f.string),mode:f.oneOf("mapbox.places","mapbox.places-permanent"),countries:f.arrayOf(f.string),proximity:f.oneOf(f.coordinates,"ip"),types:f.arrayOf(f.oneOf(Qt)),autocomplete:f.boolean,bbox:f.arrayOf(f.number),limit:f.number,language:f.arrayOf(f.string),routing:f.boolean,fuzzyMatch:f.boolean,worldview:f.string,session_token:f.string})(e),e.mode=e.mode||"mapbox.places";var t=Ht(Kt({country:e.countries},X(e,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview","session_token"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:X(e,["mode","query"]),query:t})};de.reverseGeocode=function(e){f.assertShape({query:f.required(f.coordinates),mode:f.oneOf("mapbox.places","mapbox.places-permanent"),countries:f.arrayOf(f.string),types:f.arrayOf(f.oneOf(Qt)),bbox:f.arrayOf(f.number),limit:f.number,language:f.arrayOf(f.string),reverseMode:f.oneOf("distance","score"),routing:f.boolean,worldview:f.string,session_token:f.string})(e),e.mode=e.mode||"mapbox.places";var t=Ht(Kt({country:e.countries},X(e,["country","types","bbox","limit","language","reverseMode","routing","worldview","session_token"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:X(e,["mode","query"]),query:t})};Wt.exports=Jn(de)});var $t,Xt=ve(()=>{$t="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"});var er={};Sr(er,{customAlphabet:()=>Yn,customRandom:()=>Yt,nanoid:()=>ei,random:()=>Jt,urlAlphabet:()=>$t});var Jt,Yt,Yn,ei,tr=ve(()=>{Xt();Jt=e=>crypto.getRandomValues(new Uint8Array(e)),Yt=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return(s=t)=>{let o="";for(;;){let u=r(i),a=i|0;for(;a--;)if(o+=e[u[a]&n]||"",o.length===s)return o}}},Yn=(e,t=21)=>Yt(e,t,Jt),ei=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"")});var ir=p((Ki,nr)=>{"use strict";var ti=(tr(),Ar(er)).nanoid;function rr(e){this.origin=e.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=e.accessToken,this.version="0.3.0",this.pluginSessionID=this.generateSessionID(),this.sessionIncrementer=0,this.userAgent=this.getUserAgent(),this.options=e,this.send=this.send.bind(this),this.countries=e.countries?e.countries.split(","):null,this.types=e.types?e.types.split(","):null,this.bbox=e.bbox?e.bbox:null,this.language=e.language?e.language.split(","):null,this.limit=e.limit?+e.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(e),this.eventQueue=new Array,this.flushInterval=e.flushInterval||1e3,this.maxQueueSize=e.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}rr.prototype={select:function(e,t){var r=this.getEventPayload("search.select",t,{selectedFeature:e});if(r&&!(r.resultIndex===this.lastSentIndex&&r.queryString===this.lastSentInput||r.resultIndex==-1))return this.lastSentIndex=r.resultIndex,this.lastSentInput=r.queryString,this.push(r)},start:function(e){var t=this.getEventPayload("search.start",e);if(t)return this.push(t)},keyevent:function(e,t){if(e.key&&!(e.metaKey||[9,27,37,39,13,38,40].indexOf(e.keyCode)!==-1)){var r=this.getEventPayload("search.keystroke",t,{key:e.key});if(r)return this.push(r)}},send:function(e,t){if(!this.enableEventLogging)return t?t():void 0;var r=this.getRequestOptions(e);this.request(r,function(n){if(n)return this.handleError(n,t);if(t)return t()}.bind(this))},getRequestOptions:function(e){Array.isArray(e)||(e=[e]);var t={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return t},getEventPayload:function(e,t,r={}){if(e==="search.select"&&!r.selectedFeature||e==="search.keystroke"&&!r.key)return null;var n;if(!t.options.proximity)n=null;else if(typeof t.options.proximity=="object")n=[t.options.proximity.longitude,t.options.proximity.latitude];else if(t.options.proximity==="ip"){var i=t._headers?t._headers["ip-proximity"]:null;i&&typeof i=="string"?n=i.split(",").map(parseFloat):n=[999,999]}else n=t.options.proximity;var s=t._map?t._map.getZoom():void 0,o={event:e,version:this.getEventSchemaVersion(e),created:+new Date,sessionIdentifier:this.getSessionId(),country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:t.options.autocomplete,fuzzyMatch:t.options.fuzzyMatch,proximity:n,limit:t.options.limit,routing:t.options.routing,worldview:t.options.worldview,mapZoom:s,keyboardLocale:this.locale};if(e==="search.select"?o.queryString=t.inputString:e!="search.select"&&t._inputEl?o.queryString=t._inputEl.value:o.queryString=t.inputString,["search.keystroke","search.select"].includes(e)&&(o.path="geocoding/v5/mapbox.places"),e==="search.keystroke"&&r.key)o.lastAction=r.key;else if(e==="search.select"&&r.selectedFeature){var u=r.selectedFeature,a=this.getSelectedIndex(u,t);if(o.resultIndex=a,o.resultPlaceName=u.place_name,o.resultId=u.id,u.properties&&(o.resultMapboxId=u.properties.mapbox_id),t._typeahead){var c=t._typeahead.data;c&&c.length>0&&(o.suggestionIds=this.getSuggestionIds(c),o.suggestionNames=this.getSuggestionNames(c),o.suggestionTypes=this.getSuggestionTypes(c),o.suggestionSources=this.getSuggestionSources(c))}}return this.validatePayload(o)?o:null},request:function(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(this.readyState==4)return this.status==204?t(null):t(this.statusText)},r.open(e.method,e.host+"/"+e.path,!0);for(var n in e.headers){var i=e.headers[n];r.setRequestHeader(n,i)}r.send(e.body)},handleError:function(e,t){if(t)return t(e)},generateSessionID:function(){return ti()},getSessionId:function(){return this.pluginSessionID+"."+this.sessionIncrementer},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(e,t){if(t._typeahead){var r=t._typeahead.data,n=e.id,i=r.map(function(o){return o.id}),s=i.indexOf(n);return s}},getSuggestionIds:function(e){return e.map(function(t){return t.properties?t.properties.mapbox_id||"":t.id||""})},getSuggestionNames:function(e){return e.map(function(t){return t.place_name||""})},getSuggestionTypes:function(e){return e.map(function(t){return t.place_type&&Array.isArray(t.place_type)&&t.place_type[0]||""})},getSuggestionSources:function(e){return e.map(function(t){return t._source||""})},getEventSchemaVersion:function(e){return["search.keystroke","search.select"].includes(e)?"2.2":"2.0"},validatePayload:function(e){if(!e||!e.event)return!1;var t=["event","created","sessionIdentifier","queryString"],r=["event","created","sessionIdentifier","queryString","lastAction"],n=["event","created","sessionIdentifier","queryString","resultIndex","path","suggestionIds"],i=e.event;return i==="search.start"?this.objectHasRequiredProps(e,t):i==="search.keystroke"?this.objectHasRequiredProps(e,r):i==="search.select"?this.objectHasRequiredProps(e,n):!0},objectHasRequiredProps:function(e,t){return t.every(function(r){return r==="queryString"?typeof e[r]=="string"&&e[r].length>0:e[r]!==void 0})},shouldEnableLogging:function(e){return!(e.enableEventLogging===!1||e.origin&&e.origin!=="https://api.mapbox.com")},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(e,t){this.eventQueue.push(e),(this.eventQueue.length>=this.maxQueueSize||t)&&this.flush()},remove:function(){this.flush()}};nr.exports=rr});var sr=p((Hi,or)=>{"use strict";var ri={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"\u05DC\u05D7\u05E4\u05E9",ja:"\u30B5\u30FC\u30C1",lv:"Mekl\u0113t",pt:"Procurar",sr:"\u041F\u0440\u0435\u0442\u0440\u0430\u0433\u0430",zh:"\u641C\u7D22",cs:"Vyhled\xE1v\xE1n\xED",hu:"Keres\xE9s",ka:"\u10EB\u10D8\u10D4\u10D1\u10D0",nb:"S\xF8ke",sk:"Vyh\u013Ead\xE1vanie",th:"\u0E04\u0E49\u0E19\u0E2B\u0E32",fi:"Hae",is:"Leita",ko:"\uC218\uC0C9",pl:"Szukaj",sl:"Iskanje",fa:"\u062C\u0633\u062A\u062C\u0648",ru:"\u041F\u043E\u0438\u0441\u043A"};or.exports={placeholder:ri}});var ur=p((ar,J)=>{(function(e,t,r){typeof J<"u"&&J.exports?J.exports=r():e[t]=r()})(ar,"subtag",function(){var e="",t=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(u){return u.match(t)||[]}function n(u){return r(u).filter(function(a,c){return a&&c})}function i(u){return u=r(u),{language:u[1]||e,extlang:u[2]||e,script:u[3]||e,region:u[4]||e}}function s(u,a,c){Object.defineProperty(u,a,{value:c,enumerable:!0})}function o(u,a,c){function d(h){return r(h)[u]||e}s(d,"pattern",a),s(i,c,d)}return o(1,/^[a-zA-Z]{2,3}$/,"language"),o(2,/^[a-zA-Z]{3}$/,"extlang"),o(3,/^[a-zA-Z]{4}$/,"script"),o(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),s(i,"split",n),i})});var hr=p((Qi,cr)=>{function lr(){}lr.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){let e={enableHighAccuracy:!0};return new Promise(function(t,r){window.navigator.geolocation.getCurrentPosition(t,r,e)})}};cr.exports=lr});var pr=p((Wi,fr)=>{function ni(e,t){let r=dr(e),n=["address","street","place","country"];var i;if(typeof t=="function")return t(r);let s=n.indexOf(t);return s===-1?i=n:i=n.slice(s),i.reduce(function(o,u){return r[u]?(o!==""&&(o=o+", "),o+r[u]):o},"")}function dr(e){let t=e.address||"",r=e.text||"",n=e.place_name||"",s={address:n.split(",")[0],houseNumber:t,street:r,placeName:n};return e.context.forEach(function(o){let u=o.id.split(".")[0];s[u]=o.text}),s}var ii=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;fr.exports={transformFeatureToGeolocationText:ni,getAddressInfo:dr,REVERSE_GEOCODE_COORD_RGX:ii}});var br=p((Zi,yr)=>{"use strict";var oi=Ce(),si=Te(),M=T(),ai=Ue().EventEmitter,gr=He(),fe=St(),pe=Zt(),ui=ir(),li=sr(),ci=ur(),hi=hr(),mr=pr(),I={FORWARD:0,LOCAL:1,REVERSE:2};function di(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function vr(e){this._eventEmitter=new ai,this.options=M({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new hi}vr.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",useBrowserFocus:!1,getItemValue:function(e){return e.place_name},render:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"}},_headers:{},addTo:function(e){function t(r,n){if(!document.body.contains(n))throw new Error("Element provided to #addTo() exists, but is not in the DOM");let i=r.onAdd();n.appendChild(i)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else if(typeof e=="string"){let r=document.querySelectorAll(e);if(r.length===0)throw new Error("Element ",e,"not found.");if(r.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,r[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=pe(fe({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new ui(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this),this._onSuggestionItemFocus=this._onSuggestionItemFocus.bind(this),this._onSuggestionItemKeyDown=this._onSuggestionItemKeydown.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var r=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",si(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(l){this.eventManager.keyevent(l,this)}.bind(this));var n=document.createElement("div");n.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var i=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(i),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),n.appendChild(this._clearEl),n.appendChild(this._loadingEl),t.appendChild(r),t.appendChild(this._inputEl),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var s=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(s),n.appendChild(this._geolocateEl),this._showGeolocateButton()}var o=this._typeahead=new oi(this._inputEl,[],{hideOnBlur:!this.options.useBrowserFocus,filter:!1,minLength:this.options.minLength,limit:this.options.limit});t.insertBefore(n,o.list.wrapper),this.setRenderFunction(this.options.render),o.getItemValue=this.options.getItemValue;let u=this._typeahead.handleKeyDown.bind(this._typeahead),a=this._typeahead.handleKeyUp.bind(this._typeahead);this._typeahead.handleKeyUp,this.options.useBrowserFocus&&(this._typeahead.handleKeyDown=function(l){if(!(l.keyCode===9&&!o.list.isEmpty())){if(l.keyCode===40){this._typeahead.list.active=0,this._typeahead.list.element.querySelectorAll("li").forEach(function(g){g.classList.remove("active")}),this._typeahead.list.element.querySelectorAll("li")[0].classList.add("active"),this._typeahead.list.element.querySelectorAll("li")[0].focus();return}else if(l.keyCode===38){this._typeahead.list.active=o.list.items.length-1,this._typeahead.list.element.querySelectorAll("li").forEach(function(g){g.classList.remove("active")}),this._typeahead.list.element.querySelectorAll("li")[this._typeahead.list.active].classList.add("active"),this._typeahead.list.element.querySelectorAll("li")[this._typeahead.list.active].focus();return}u(l)}}.bind(this),this._typeahead.handleKeyUp=function(l){if(l&&l.keyCode===16){l.preventDefault();return}a(l)});var c=o.list.draw,d=this._footerNode=di(),h=this;return o.list.draw=function(){h.options.useBrowserFocus&&o.list.element.querySelectorAll("li").forEach(function(l){l.removeEventListener("focus",h._onSuggestionItemFocus),l.removeEventListener("keydown",h._onSuggestionItemKeyDown)}),c.call(this),h.options.useBrowserFocus&&o.list.element.querySelectorAll("li").forEach(function(l,g){g===0&&l.focus(),l.setAttribute("data-index",g),l.tabIndex=0,l.addEventListener("focus",this._onSuggestionItemFocus),l.addEventListener("keydown",this._onSuggestionItemKeyDown)}.bind(h)),d.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),d.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(d)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),t},_onSuggestionItemKeydown(e){let t=e.keyCode;if(t!==9){if(t===13){e.preventDefault();let r=this._typeahead.list.element.querySelector(".active");if(r){let n=r.getAttribute("data-index"),i=this._typeahead.list.items[n];i&&(this._typeahead.value(i.original),this._typeahead.list.hide())}}else if(t===38||t===40){let r=this._typeahead.list.element.querySelectorAll("li");if(r.length>0){if(t===38)if(this._typeahead.list.active>0)e.preventDefault(),this._typeahead.list.active--;else{this._typeahead.el.focus();return}else if(t===40)if(e.preventDefault(),this._typeahead.list.active<r.length-1)this._typeahead.list.active++;else return;r.forEach(function(i){i.classList.remove("active")});let n=r[this._typeahead.list.active];n&&(n.classList.add("active"),n.focus())}}}},_onSuggestionItemFocus(e){this._typeahead.list.active=e.target.getAttribute("data-index"),this._typeahead.list.element.querySelectorAll("li").forEach(function(t){t.classList.remove("active")}),e.target.classList.add("active")},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(e){this._hideLoadingIcon();let t={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(t),this._fly(t),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(t),this._showClearButton(),this.fresh=!1;let r={limit:1,language:[this.options.language],query:t.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){let n=t.geometry.coordinates[0]+","+t.geometry.coordinates[1];this._setInputValue(n),this._eventEmitter.emit("result",{result:t})}else this.geocoderService.reverseGeocode(r).send().then(function(n){let i=n.body.features[0];if(i){let s=mr.transformFeatureToGeolocationText(i,this.options.addressAccuracy);this._setInputValue(s),i.user_coordinates=t.geometry.coordinates,this._eventEmitter.emit("result",{result:i})}else this._eventEmitter.emit("result",{result:{user_coordinates:t.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(e,t){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");return r.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),r.setAttribute("viewBox","0 0 18 18"),r.setAttribute("xml:space","preserve"),r.setAttribute("width",18),r.setAttribute("height",18),r.innerHTML=t,r},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this._geocode(t)},_onKeyDown:function(e){var t=27,r=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var n=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,i=n?n.value:"";if(!i)return this.fresh=!0,e.keyCode!==r&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[r,t,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&n.value.length>=this.options.minLength&&this._geocode(n.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var t;if(e.properties&&gr[e.properties.short_code])t=M({},this.options.flyTo),this._map&&this._map.fitBounds(gr[e.properties.short_code].bbox,t);else if(e.bbox){var r=e.bbox;t=M({},this.options.flyTo),this._map&&this._map.fitBounds([[r[0],r[1]],[r[2],r[3]]],t)}else{var n={zoom:this.options.zoom};t=M({},n,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}},_requestType:function(e,t){var r;return e.localGeocoderOnly?r=I.LOCAL:e.reverseGeocode&&mr.REVERSE_GEOCODE_COORD_RGX.test(t)?r=I.REVERSE:r=I.FORWARD,r},_setupConfig:function(e,t){let r=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],n=/[\s,]+/;var i=this,s=r.reduce(function(u,a){if(i.options[a]===void 0||i.options[a]===null)return u;["countries","types","language"].indexOf(a)>-1?u[a]=i.options[a].split(n):u[a]=i.options[a];let c=typeof i.options[a].longitude=="number"&&typeof i.options[a].latitude=="number";if(a==="proximity"&&c){let d=i.options[a].longitude,h=i.options[a].latitude;u[a]=[d,h]}return u},{});switch(e){case I.REVERSE:{var o=t.split(n).map(function(u){return parseFloat(u,10)});i.options.flipCoordinates||o.reverse(),s.types&&s.types[0],s=M(s,{query:o,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(u){u in s&&delete s[u]})}break;case I.FORWARD:{let u=t.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(u)&&(t=t.replace(/,/g," ")),s=M(s,{query:t})}break}return s.session_token=this.eventManager.getSessionId(),s},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});let t=this._requestType(this.options,e),r=this._setupConfig(t,e);var n;switch(t){case I.LOCAL:n=Promise.resolve();break;case I.FORWARD:n=this.geocoderService.forwardGeocode(r).send();break;case I.REVERSE:n=this.geocoderService.reverseGeocode(r).send();break}var i=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],s=[],o=null;return n.catch(function(u){o=u}.bind(this)).then(function(u){this._hideLoadingIcon();var a={};return u?u.statusCode=="200"&&(a=u.body,a.request=u.request,a.headers=u.headers,this._headers=u.headers):a={type:"FeatureCollection",features:[]},a.config=r,this.fresh&&(this.eventManager.start(this),this.fresh=!1),a.features&&a.features.length&&a.features.map(function(c){c._source="mapbox"}),a.features=a.features?i.concat(a.features):i,this.options.externalGeocoder?(s=this.options.externalGeocoder(e,a.features)||Promise.resolve([]),s.then(function(c){return a.features=a.features?c.concat(a.features):c,a},function(){return a})):a}.bind(this)).then(function(u){if(o)throw o;this.options.filter&&u.features.length&&(u.features=u.features.filter(this.options.filter)),u.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",u),this._typeahead.update(u.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",u))}.bind(this)).catch(function(u){this._hideLoadingIcon(),this._hideAttribution(),i.length&&this.options.localGeocoder||s.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(i)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:i}),this._eventEmitter.emit("error",{error:u})}.bind(this)),n},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this.eventManager.sessionIncrementer++,this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus(),this.options.useBrowserFocus&&this._typeahead.list.hide()},_clearOnBlur:function(e){var t=this;e.relatedTarget&&t._clear(e)},_onQueryResult:function(e){var t=e.body;if(t.features.length){var r=t.features[0];this._typeahead.selected=r,this._inputEl.value=r.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=ci.language(e),r=li.placeholder[t];if(r)return r}return"Search"},setInput:function(e,t){return t===void 0&&(t=!1),this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&(t?this._geocode(e):this._onChange()),this},setProximity:function(e,t=!0){return this.options.proximity=e,t&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.options.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.options.placeholder,this._inputEl.setAttribute("aria-label",this.options.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=pe(fe({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=pe(fe({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var t={color:"#4668F2"},r=M({},t,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(r),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this.eventManager.remove(),this}};yr.exports=vr});var _r=Rr(br(),1);function fi(e,t,r=!1){return{geocoder:void 0,structured:!0,state:e,init(){this.geocoder=new _r.default(t).on("result",this.onResult.bind(this)),this.geocoder.addTo(this.$root),this.structured=typeof this.state!="string",this.geocoder._inputEl&&(this.geocoder._inputEl.value=this.structured?this.state.placeName??"":this.state,this.geocoder._inputEl.disabled=r)},onResult({result:n}){if(!this.structured){this.state=n.place_name;return}this.state={address:n.place_name.split(",")[0],houseNumber:n.address,street:n.text,postcode:n.context.find(i=>i.id.startsWith("postcode"))?.text,place:n.context.find(i=>i.id.startsWith("place"))?.text,region:n.context.find(i=>i.id.startsWith("region"))?.text,country:n.context.find(i=>i.id.startsWith("country"))?.text,placeName:n.place_name,coords:n.center}}}}export{fi as default};
/*! Bundled license information:

base-64/base64.js:
  (*! http://mths.be/base64 v0.1.0 by @mathias | MIT license *)
*/
